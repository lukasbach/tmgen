(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,a,t){e.exports=t(44)},35:function(e,a,t){},37:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var i=t(0),n=t.n(i),r=t(19),s=t.n(r),o=(t(35),t(16)),l=t(20),m=t(21),c=t(22),d=t(24),g=t(23),h=t(25),u=(t(37),t(39),t(41),t(48)),p=t(49),M=t(45),f=t(50),x=t(51),v=t(52),b=t(53),S=t(54);function C(e,a,t){return t?(e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e):Math.random()*(a-e)+e}function E(e){return n.a.createElement(v.a,{label:e.label,labelInfo:e.info,labelFor:e.id},n.a.createElement(b.a,{id:e.id,placeholder:e.placeholder,min:e.min,stepSize:e.stepSize,max:e.max,value:e.state[e.id],onValueChange:function(a){return e.onChange(e.id,a)}}))}function y(e){var a=e.state[e.id+"Min"]||e.min,t=e.state[e.id+"Max"]||e.max;return n.a.createElement(v.a,{label:e.label,labelInfo:e.info,labelFor:e.id},n.a.createElement(S.a,{id:e.id,value:[a,t],stepSize:e.stepSize,labelStepSize:(e.max-e.min)/e.stepSize<15?e.stepSize:(e.max-e.min)/20,min:e.min,max:e.max,onChange:function(a){e.onChange(e.id+"Min",a[0]),e.onChange(e.id+"Max",a[1])}}))}var z=function(e){function a(e){var t;Object(m.a)(this,a);return(t=Object(d.a)(this,Object(g.a)(a).call(this,e))).state={params:{maxAccelerationMin:1,maxAccelerationMax:16,gridWidth:2,gridHeight:1,gridSize:1,roadsPerJunctionMin:1,roadsPerJunctionMax:4,signalCountMin:1,signalCountMax:4,signalTimeMin:5,signalTimeMax:15,carsPerRoadMin:1,carsPerRoadMax:5,targetVelocityMin:71,targetVelocityMax:105,targetDecelerationMin:1,targetDecelerationMax:15,minDistanceMin:1,minDistanceMax:6,targetHeadwayMin:1,targetHeadwayMax:6,politenessMin:.25,politenessMax:.75,routeLengthMin:1,routeLengthMax:4,limitMin:60,limitMax:180,lanesPerRoadMin:1,lanesPerRoadMax:3}},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=function(a,t){e.setState({params:Object(l.a)({},e.state.params,Object(o.a)({},a,t))})};return n.a.createElement("div",{style:{margin:"2em 20em"}},n.a.createElement(u.a,null,"Grid size"),n.a.createElement(E,{id:"gridWidth",label:"Width of the grid",info:void 0,placeholder:1,min:1,max:void 0,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(E,{id:"gridHeight",label:"Height of the grid",info:void 0,placeholder:1,min:1,max:void 0,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(E,{id:"gridSize",label:"Distance between junctions * 100",info:void 0,placeholder:1,min:1,max:void 0,stepSize:.1,state:this.state.params,onChange:a}),n.a.createElement(u.a,null,"Junctions"),n.a.createElement(y,{id:"signalCount",label:"Amount of signals",info:void 0,min:1,max:20,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"signalTime",label:"Time between signals",info:void 0,min:0,max:50,stepSize:5,state:this.state.params,onChange:a}),n.a.createElement(u.a,null,"Roads"),n.a.createElement(y,{id:"lanesPerRoad",label:"Lanes per road",info:void 0,min:1,max:3,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"limit",label:"Limit",info:void 0,min:0,max:200,stepSize:10,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"carsPerRoad",label:"Cars per road",info:void 0,min:1,max:20,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(u.a,null,"Cars"),n.a.createElement(y,{id:"targetVelocity",label:"Target Velocity",info:void 0,min:1,max:300,stepSize:5,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"maxAcceleration",label:"Maximum acceleration",info:void 0,min:1,max:300,stepSize:5,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"targetDeceleration",label:"Target Deceleration",info:void 0,min:1,max:300,stepSize:5,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"minDistance",label:"Minimum Distance",info:void 0,min:1,max:20,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"targetHeadway",label:"Target Headway",info:void 0,min:1,max:20,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"politeness",label:"Politeness",info:void 0,min:0,max:1,stepSize:.05,state:this.state.params,onChange:a}),n.a.createElement(y,{id:"routeLength",label:"Route Length",info:void 0,min:1,max:20,stepSize:1,state:this.state.params,onChange:a}),n.a.createElement(u.a,null,"Parameters"),n.a.createElement(p.a,{large:!0,fill:!0,inputRef:function(a){return e.parameterBoxRef=a},onChange:function(){try{var a=JSON.parse(e.parameterBoxRef.value);e.setState({params:a})}catch(t){}},value:JSON.stringify(this.state.params,4)}),n.a.createElement(u.a,null,"Generate"),n.a.createElement(M.a,{icon:"chevron-right",intent:"primary",text:"Generate",onClick:function(){return e.generate()}}),n.a.createElement(f.a,{label:"Pretty print",onChange:function(){return e.setState({pretty:!e.state.pretty})},checked:this.state.pretty}),n.a.createElement(x.a,{isOpen:!!this.state.output},this.state.pretty?n.a.createElement(u.b,null,JSON.stringify(this.state.output,void 0,4)):n.a.createElement(p.a,{large:!0,fill:!0,value:JSON.stringify(this.state.output)})))}},{key:"log",value:function(e){this.setState({logMessage:e})}},{key:"generate",value:function(){this.carI=0;for(var e={time_steps:1,junctions:[],roads:[],cars:[]},a=this.state.params,t=0;t<a.gridWidth;t++)for(var i=0;i<a.gridHeight;i++){for(var n={id:i*a.gridWidth+t,x:t*a.gridSize,y:i*a.gridSize,signals:[]},r=0;r<C(a.signalCountMin,a.signalCountMax,!0);r++)n.signals.push({dir:C(0,3,!0),time:C(a.signalTimeMin,a.signalTimeMax,!0)});if(e.junctions.push(n),t<a.gridWidth-1){var s=C(a.lanesPerRoadMin,a.lanesPerRoadMax,!0);e.roads.push({junction1:i*a.gridWidth+t,junction2:i*a.gridWidth+t+1,lanes:s,limit:C(a.limitMin,a.limitMax,!0)}),this.generateCars(function(a){return e.cars.push(a)},i*a.gridWidth+t,i*a.gridWidth+t+1,s)}if(i<a.gridHeight-1){var o=C(a.lanesPerRoadMin,a.lanesPerRoadMax,!0);e.roads.push({junction1:i*a.gridWidth+t,junction2:i*a.gridWidth+t+a.gridWidth,lanes:o,limit:C(a.limitMin,a.limitMax,!0)}),this.generateCars(function(a){return e.cars.push(a)},i*a.gridWidth+t,i*a.gridWidth+t+a.gridWidth,o)}}this.setState({output:e})}},{key:"generateCars",value:function(e,a,t,i){for(var n=this.state.params,r=0;r<C(n.carsPerRoadMin,n.carsPerRoadMax,!0);r++){for(var s=[],o=0;o<C(n.routeLengthMin,n.routeLengthMax,!0);o++)s.push(C(0,3,!0));e({id:this.carI++,target_velocity:C(n.targetVelocityMin,n.targetVelocityMax,!0),max_acceleration:C(n.maxAccelerationMin,n.maxAccelerationMax,!0),target_deceleration:C(n.targetDecelerationMin,n.targetDecelerationMax,!0),min_distance:C(n.minDistanceMin,n.minDistanceMax,!0),target_headway:C(n.targetHeadwayMin,n.targetHeadwayMax,!0),politeness:C(n.politenessMin,n.politenessMax,!1),start:{from:a,to:t,lane:C(0,i-1,!0),distance:C(0,n.gridSize-17.5,!1)},route:s})}}}]),a}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.e33af3ac.chunk.js.map